{% extends "_layouts/main" %}

{% block main %}
<ul class="breadcrumbs">
    <li><a href="{{ siteUrl }}">Home</a></li>
    <li><a href="{{ siteUrl }}recipes">Recipes</a></li>
    <li>{{ entry.title }}</li>
</ul>
<div class="full-bleed-header" style="background-size: 100%; height: 300px; background-image: linear-gradient(rgba(0, 0, 0, 0.25), rgba(0, 0, 0, 0.25)), url({{ imagesRoot }}drinks/espresso-shot.jpg); background-repeat: no-repeat, repeat;">
    <div class="page-title text-center">
        <h2 class="logo"><span class="scripty">{{ entry.title }}</h2>
        <p class="tagline reverse">{{ entry.subtitle }}</p>
    </div>
</div>
<div class="row">
    <div class="intro large-12 small-12 columns text-center">
        <p>{{ entry.recipeIntro }}</p>
    </div>
</div>
<div class="row">
    {# Snapshot start #}
    <div class="panel radius snapshot large-12 small-12 columns">
        <h3>Recipe Snapshot</h3>
        <ul>
            {% for row in entry.recipeSnapshot %}
            <li>{{ row.snapshotText }}</li>
            {% endfor %}
        </ul>
    </div>
    {# Snapshot end #}

    {% for block in entry.recipeContents %}
      {% switch block.type %}

        {# Recipe Image start #}
        {% case 'recipeImage' %}
          {% set image = block.image.one() %}
          <div class="photo-inset full">
              <img src="{{ image.getUrl() }}" alt=""/>

              {% if block.imageCaption %}
              <p class="caption">
                  <small>{{ block.imageCaption }}</small>
              </p>
              {% endif %}
          </div>
        {# Recipe Image end #}

        {# Recipe Copy start #}
        {% case 'recipeCopy' %}
          {{ block.bodyContent }}
        {# Recipe Copy end #}
        
        {# Recipe Ingredients start #}
        {% case 'recipeIngredients' %}
          <table width="100%">
              <tr>
                  <th width="20%">Amount</th>
                  <th>Ingredient</th>
              </tr>
              {% for row in block.ingredients %}
              <tr>
                  <td>{{ row.amount }}</td>
                  <td>{{ row.ingredients }}</td>
              </tr>
              {% endfor %}
          </table>
        {# Recipe Ingredients end #}

        {# Recipe Steps start #}
        {% case 'recipeSteps' %}
          <div class="steps">
              <h3>{{ block.stepsTitle }}</h3>
              <ol>
                {% for step in block.stepsContent %}
                  <li>{{ step.stepsInstructions }}</li>
                {% endfor %}
              </ol>
          </div>
        {# Recipe Steps end #}
        
        {# Recipe Tip end #}
        {% case 'recipeTip' %}
          <div class="panel tip">
              <p>{{ block.tipContent }}</p>
          </div>
        {# Recipe Tip end #}
        
      {% endswitch %}
    {% endfor %}
</div>
{% endblock %}